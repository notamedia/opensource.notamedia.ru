<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Консольные команды Nota.Opensource</title>

    <!-- Bootstrap Core CSS -->
    <link href="/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link href="/css/simple-sidebar.css" rel="stylesheet">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>

<body>

<div id="wrapper">

    <!-- Sidebar -->
    <div id="sidebar-wrapper">
        <ul class="sidebar-nav">
            <li class="sidebar-brand">
                <a href="/">Проекты</a>
            </li>
            <li>
                <a href="/console-jedi/">- Console Jedi</a>
            </li>
            <li>
                <a href="/console-jedi/man/readme.html">-- Документация</a>
            </li>
            <li>
                <a href="/adminhelper/">- Admin Helper</a>
            </li>
            <li>
                <a href="/philosophy.html">Подход</a>
            </li>
            <li>
                <a href="https://github.com/notamedia/">Github</a>
            </li>
        </ul>
    </div>
    <!-- /#sidebar-wrapper -->

    <!-- Page Content -->
    <div id="page-content-wrapper">
        <div class="container-fluid">
            <div class="row">
                <div class="col-lg-12">
                    <a href="#menu-toggle" class="btn btn-default" id="menu-toggle">Меню</a>
                    <h1>Консольные команды</h1>
                    <p>Console Jedi из коробки содержит ряд команд, упрощающих администрирование и поддержку сайта на «Битриксе». Узнать 
полный список вы можете вызвав консольное приложение:</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash">./vendor/bin/jedi
</code></pre></div>
<p>Подробную информацию о команде можно запросить через опцию <code>--help</code>, например:</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash">./vendor/bin/jedi cache:clear --help
</code></pre></div>
<h2>Создание команды</h2>

<p>Написание собственных команд отличается от 
<a href="http://symfony.com/doc/current/components/console/introduction.html">написания команд для Symfony Console</a> только 
классом-родителем:</p>

<ul>
<li><code>\Notamedia\ConsoleJedi\Application\Command\Command</code> — команда может работать при отсутствии ядра «Битрикса»,</li>
<li><code>\Notamedia\ConsoleJedi\Application\Command\BitrixCommand</code> — для работы команды обязательно должно быть 
инициализировано ядро «Битрикса».</li>
</ul>

<p>Во имя модульности проекта, свои консольные команды нужно размещать в модулях «Битрикса». Для этого в файле 
<code>vendor.module/cli.php</code> должны быть описаны консольные команды модуля:</p>
<div class="highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>

<span class="k">return</span> <span class="p">[</span>
    <span class="s1">&#39;commands&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span>
         <span class="k">new</span> <span class="nx">\Vendor\Module\Command\FirstCommand</span><span class="p">()</span>
    <span class="p">]</span>
<span class="p">];</span>
</code></pre></div>
<p>Во время запуска Console Jedi автоматически загрузит команды всех установленных модулей. Кроме того, вы можете 
зарегистрировать дополнительные команды через настройки в <code>.jedi.php</code> (файл располагается в корне проекта):</p>
<div class="highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>

<span class="k">return</span> <span class="p">[</span> 
    <span class="s1">&#39;commands&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span> 
        <span class="k">new</span> <span class="nx">FirstCommand</span><span class="p">()</span>
    <span class="p">]</span> 
<span class="p">];</span>
</code></pre></div>
<h2>Полезные материалы</h2>

<ul>
<li><a href="http://symfony.com/doc/current/components/console/introduction.html">Документация по Symfony Console</a>.</li>
</ul>

                </div>
            </div>
        </div>
    </div>
    <!-- /#page-content-wrapper -->

</div>
<!-- /#wrapper -->

<!-- jQuery -->
<script src="/js/jquery.js"></script>

<!-- Bootstrap Core JavaScript -->
<script src="/js/bootstrap.min.js"></script>

<!-- Menu Toggle Script -->
<script>
    $("#menu-toggle").click(function(e) {
        e.preventDefault();
        $("#wrapper").toggleClass("toggled");
    });
    </script>
<!-- Yandex.Metrika counter --> <script type="text/javascript"> (function (d, w, c) { (w[c] = w[c] || []).push(function() { try { w.yaCounter35640745 = new Ya.Metrika({ id:35640745, clickmap:true, trackLinks:true, accurateTrackBounce:true, webvisor:true }); } catch(e) { } }); var n = d.getElementsByTagName("script")[0], s = d.createElement("script"), f = function () { n.parentNode.insertBefore(s, n); }; s.type = "text/javascript"; s.async = true; s.src = "https://mc.yandex.ru/metrika/watch.js"; if (w.opera == "[object Opera]") { d.addEventListener("DOMContentLoaded", f, false); } else { f(); } })(document, window, "yandex_metrika_callbacks"); </script> <noscript><div><img src="https://mc.yandex.ru/watch/35640745" style="position:absolute; left:-9999px;" alt="" /></div></noscript> <!-- /Yandex.Metrika counter -->
</body>
</html>